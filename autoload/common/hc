# -*- mode: sh -*-
# vim: set ft=sh:
function ___hc(){

    local repoName old_dir

    if [[ -z "$1" ]]; then
        repoName="$(basename "$(pwd)")" ||
    else
        repoName="$1"
        command mkdir "$repoName"
        if ! cd "$repoName"; then
            loggErr "could not cd to $repoName"
            return 1
        fi
    fi
    printf "\x1b[1m"

    git init
    hub create "$repoName"
    echo "# $repoName" > README.md
    echo "# created by $ZPWR_GITHUB_ACCOUNT" >> README.md
    git add .
    git commit -m "first commit"
    git push --set-upstream origin master
    printf "\x1b[0m"
}

___hc "$@"
