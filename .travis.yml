addons:
  apt:
    packages:
    - zsh
    - vim
dist: bionic
branches:
  except:
      - master
python:
    - "3.8"
language: generic
cache:
  apt: true
jobs:
  include:
  - stage: linux
    os: linux
before_script:
- echo cloned to $TRAVIS_BUILD_DIR
- python3 --version
- ls -Al
- mkdir .bin
- export ZPWR=$PWD
- curl -L https://raw.githubusercontent.com/molovo/revolver/master/revolver > .bin/revolver
- curl -L https://raw.githubusercontent.com/molovo/color/master/color.zsh > .bin/color
- chmod u+x .bin/{color,revolver}
- export PATH="$HOME/.zvm/bin:$PWD/.bin:$PATH"
- git clone https://github.com/MenkeTechnologies/zunit
- cd zunit && pwd
- "./build.zsh"
- export PATH="$PWD:$PATH"
- cd .. && pwd
script: "zunit --verbose tests/*.zsh"
notifications:
  email: false
